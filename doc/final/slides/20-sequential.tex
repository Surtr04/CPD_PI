\section{Sequential}

\subsection{Original}
\begin{frame}
	\frametitle{Original implementation}
	\begin{itemize}
		\item \textbf{\itshape Arrays-of-Pointers};
		\item Prepared for \textbf{dynamic cell velocities}\ \textit{(not implemented)};
		\item Animated simulation;
	\end{itemize}

	\begin{columns}
		\column{.45\textwidth}
		\begin{block}{\computeflux}
			\smaller
			For all \textbf{edges}:
			\begin{enumerate}
				\item Read adjacent cell data;	
				\item Compute edge velocity;
				\item Compute flux through edge;
				\item Compute $\Delta t$;
			\end{enumerate}
		\end{block}

		\column{.45\textwidth}
		\begin{block}{\update}
			\smaller
			For all \textbf{cells}:
			\begin{enumerate}
				\item For all of its \textbf{edges}:
				\begin{itemize}\smaller
					\item Subtract flux from left cell;
					\item Add flux to right cell;
				\end{itemize}
			\end{enumerate}
		\end{block}
	\end{columns}
\end{frame}

\subsection{Optimizations}
\begin{frame}
	\frametitle{Array-Of-Structs}
	\begin{columns}
		\smaller
		\column{0.4\textwidth}
			\centering
			\textbf{\itshape Array-Of-Structs}

			\smaller
			\begin{tabular}{|c|c|}
				\hline
				\multirow{5}{*}{$S_{1}$} & $e_{1}$\\
				\cline{2-2}
				& $e_{2}$\\
				\cline{2-2}
				& $e_{3}$\\
				\cline{2-2}
				& $e_{4}$\\
				\cline{2-2}
				& $e_{5}$\\
				\hline
				\multirow{5}{*}{$S_{2}$} & $e_{1}$\\
				\cline{2-2}
				& $e_{2}$\\
				\cline{2-2}
				& $e_{3}$\\
				\cline{2-2}
				& $e_{4}$\\
				\cline{2-2}
				& $e_{5}$\\
				\hline
				\multirow{5}{*}{$S_{3}$} & $e_{1}$\\
				\cline{2-2}
				& $e_{2}$\\
				\cline{2-2}
				& $e_{3}$\\
				\cline{2-2}
				& $e_{4}$\\
				\cline{2-2}
				& $e_{5}$\\
				\hline
				\multicolumn{2}{|c|}{\ldots}
			\end{tabular}
			\larger

			\begin{itemize}
				\item Pointers $\Rightarrow$ Indexes;
			\end{itemize}

		\column{0.4\textwidth}
			\centering
			\textbf{\itshape Struct-Of-Arrays}
			\medskip
			\smaller
			\begin{table}
				\captionsetup[subfloat]{position=top,labelformat=empty}
				\subfloat[$e_{1}$]{%
				\begin{tabular}{|c|}
					\hline
					$S_{1}$\\
					\hline
					$S_{2}$\\
					\hline
					$S_{3}$\\
					\hline
					\ldots
				\end{tabular}%
				}\;
				\subfloat[$e_{2}$]{%
				\begin{tabular}{|c|}
					\hline
					$S_{1}$\\
					\hline
					$S_{2}$\\
					\hline
					$S_{3}$\\
					\hline
					\ldots
				\end{tabular}%
				}\;
				\subfloat[$e_{3}$]{%
				\begin{tabular}{|c|}
					\hline
					$S_{1}$\\
					\hline
					$S_{2}$\\
					\hline
					$S_{3}$\\
					\hline
					\ldots
				\end{tabular}%
				}\;
				\subfloat[$e_{4}$]{%
				\begin{tabular}{|c|}
					\hline
					$S_{1}$\\
					\hline
					$S_{2}$\\
					\hline
					$S_{3}$\\
					\hline
					\ldots
				\end{tabular}%
				}\;
				\subfloat[$e_{5}$]{%
				\begin{tabular}{|c|}
					\hline
					$S_{1}$\\
					\hline
					$S_{2}$\\
					\hline
					$S_{3}$\\
					\hline
					\ldots
				\end{tabular}%
				}
			\end{table}
			\larger

			\begin{itemize}
				\item Pointers $\Rightarrow$ Indexes;
				\item Loads only what is needed;
			\end{itemize}
	\end{columns}
\end{frame}

% \begin{frame}
% 	\frametitle{Original implementation}
% 	\begin{itemize}
% 		\vfill
% 		\item Initially implemented as \textbf{\itshape Arrays-of-Pointers};
% 		\vfill
% 		\item Accepted simplifications:
% 		\begin{itemize}
% 			\item Animation not required for program correctness;
% 			\item Constant velocity vectors;
% 		\end{itemize}
% 		\vfill
% 		\item Optimizations performed:
% 		\begin{itemize}
% 			\item \textbf{\itshape Arrays-Of-Structs};
% 			\item \textbf{\itshape Structs-Of-Arrays};
% 		\end{itemize}
% 		\vfill
% 		\item Dependencies:
% 		\begin{description}
% 			\item [\computeflux\hfill] \ \\$\Delta t$;
% 			\item [\update\hfill] \ \\Race condition adding edge contributions;
% 		\end{description}
% 		\vfill
% 	\end{itemize}
% \end{frame}
